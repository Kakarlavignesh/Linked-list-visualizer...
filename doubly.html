<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doubly Linked List | LLMaster</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>

<body>
    <header>
        <nav class="container">
            <div class="logo">
                <i class="fas fa-link"></i>
                <span>LL<span>Master</span></span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="active">Types <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-content">
                        <li><a href="singly.html">Singly Linked List</a></li>
                        <li><a href="doubly.html">Doubly Linked List</a></li>
                        <li><a href="circular.html">Circular Linked List</a></li>
                    </ul>
                </li>
                <li><a href="visualizer.html">Visualizer</a></li>
            </ul>
        </nav>
    </header>

    <main class="container page-content">
        <section class="intro-section">
            <h1>Doubly Linked List</h1>
            <p>In a Doubly Linked List, each node contains a reference to the <strong>Next</strong> node and the
                <strong>Previous</strong> node. This allows for easier bidirectional traversal and more flexible
                deletion.
            </p>

            <div class="complexity-table">
                <div class="complexity-item">
                    <span class="label">Access</span>
                    <span class="value">O(n)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Search</span>
                    <span class="value">O(n)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Insertion</span>
                    <span class="value">O(1)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Deletion</span>
                    <span class="value">O(1)</span>
                </div>
            </div>
        </section>

        <section class="viz-playground">
            <div class="playground-header">
                <h2>Interactive Visualizer</h2>
                <div class="playground-controls">
                    <div class="control-group">
                        <input type="number" id="nodeValue" placeholder="Value">
                        <button onclick="insertHead()" class="btn btn-filled">Insert Head</button>
                        <button onclick="insertTail()" class="btn btn-outline">Insert Tail</button>
                    </div>
                </div>
            </div>
            <div id="doubly-viz" class="visualizer-container"></div>
            <div class="status-bar" id="status">Ready...</div>
        </section>

        <section class="code-snippets">
            <h2>Implementation snippets</h2>
            <div class="tabs">
                <button class="tab-btn active" onclick="showLang('javascript')">JavaScript</button>
                <button class="tab-btn" onclick="showLang('python')">Python</button>
            </div>
            <div class="code-container">
                <pre id="code-block" class="fira-code"></pre>
            </div>
        </section>
    </main>

    <footer style="margin-top: 5rem;">
        <div class="container footer-content">
            <p>&copy; 2024 LLMaster</p>
        </div>
    </footer>

    <script src="js/linked-list.js"></script>
    <script src="js/visualizer.js"></script>
    <script>
        const list = new DoublyLinkedList();
        const viz = new Visualizer('doubly-viz', 'doubly');
        const status = document.getElementById('status');

        function updateStatus(msg) { status.innerText = msg; }

        async function insertHead() {
            const val = document.getElementById('nodeValue').value || Math.floor(Math.random() * 100);
            list.insertAtHead(val);
            viz.render(list);
            await viz.highlightNode(0, '#ec4899');
            updateStatus(`Inserted ${val} at Head.`);
        }

        async function insertTail() {
            const val = document.getElementById('nodeValue').value || Math.floor(Math.random() * 100);
            list.insertAtTail(val);
            viz.render(list);
            await viz.highlightNode(list.size - 1, '#ec4899');
            updateStatus(`Inserted ${val} at Tail.`);
        }

        [5, 15, 25].forEach(v => list.insertAtTail(v));
        viz.render(list);

        const codeData = {
            javascript: `class Node {
    constructor(value) {
        this.value = value;
        this.next = null;
        this.prev = null;
    }
}

class DoublyLinkedList {
    insertAtTail(value) {
        const newNode = new Node(value);
        if (!this.head) {
            this.head = newNode;
        } else {
            let current = this.head;
            while (current.next) current = current.next;
            current.next = newNode;
            newNode.prev = current;
        }
    }
}`,
            python: `class Node:
    def __init__(self, value):
        self.value = value
        self.next = None
        self.prev = None

class DoublyLinkedList:
    def insert_at_tail(self, value):
        new_node = Node(value)
        if not self.head:
            self.head = new_node
        else:
            current = self.head
            while current.next:
                current = current.next
            current.next = new_node
            new_node.prev = current`
        };

        function showLang(lang) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('code-block').innerText = codeData[lang];
        }
        showLang('javascript');
    </script>
    <style>
        .page-content {
            padding-top: 4rem;
        }

        .intro-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .complexity-table {
            display: flex;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .complexity-item {
            background: var(--surface);
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
        }

        .viz-playground {
            background: var(--surface);
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid var(--border);
            margin-bottom: 4rem;
        }

        .status-bar {
            padding: 0.75rem;
            background: var(--surface-light);
            border-radius: 0.5rem;
            font-size: 0.9rem;
            color: var(--primary-light);
        }

        .code-container {
            background: #010409;
            padding: 2rem;
            border-radius: 1rem;
            overflow-x: auto;
        }

        .fira-code {
            font-family: 'Fira Code', monospace;
            color: #e6edf3;
            font-size: 0.95rem;
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-bottom: 2px solid transparent;
        }

        .tab-btn.active {
            color: var(--primary-light);
            border-bottom-color: var(--primary-light);
        }
    </style>
</body>

</html>