<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Singly Linked List | LLMaster</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Outfit:wght@400;600;700&family=Fira+Code:wght@400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>

<body>
    <header>
        <nav class="container">
            <div class="logo">
                <i class="fas fa-link"></i>
                <span>LL<span>Master</span></span>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li class="dropdown">
                    <a href="#" class="active">Types <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-content">
                        <li><a href="singly.html">Singly Linked List</a></li>
                        <li><a href="doubly.html">Doubly Linked List</a></li>
                        <li><a href="circular.html">Circular Linked List</a></li>
                    </ul>
                </li>
                <li><a href="visualizer.html">Visualizer</a></li>
            </ul>
        </nav>
    </header>

    <main class="container page-content">
        <section class="intro-section">
            <h1>Singly Linked List</h1>
            <p>A Singly Linked List is a linear data structure where each element (node) point to the next node in the
                sequence. It consists of a <strong>Head</strong> (entry point) and a series of nodes ending with a
                <strong>Null</strong> pointer.
            </p>

            <div class="complexity-table">
                <div class="complexity-item">
                    <span class="label">Access</span>
                    <span class="value">O(n)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Search</span>
                    <span class="value">O(n)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Insertion</span>
                    <span class="value">O(1)</span>
                </div>
                <div class="complexity-item">
                    <span class="label">Deletion</span>
                    <span class="value">O(1)</span>
                </div>
            </div>
        </section>

        <section class="viz-playground">
            <div class="playground-header">
                <h2>Interactive Visualizer</h2>
                <div class="playground-controls">
                    <div class="control-group">
                        <input type="number" id="nodeValue" placeholder="Value">
                        <button onclick="insertHead()" class="btn btn-filled">Insert Head</button>
                        <button onclick="insertTail()" class="btn btn-outline">Insert Tail</button>
                    </div>
                    <div class="control-group">
                        <button onclick="deleteHead()" class="btn btn-outline danger">Delete Head</button>
                        <button onclick="searchNode()" class="btn btn-outline">Search</button>
                    </div>
                </div>
            </div>
            <div id="singly-viz" class="visualizer-container"></div>
            <div class="status-bar" id="status">Ready to visualize...</div>
        </section>

        <section class="code-snippets">
            <h2>Implementation in Multiple Languages</h2>
            <div class="tabs-header"
                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <div class="tabs">
                    <button class="tab-btn active" onclick="showLang('javascript')">JavaScript</button>
                    <button class="tab-btn" onclick="showLang('python')">Python</button>
                    <button class="tab-btn" onclick="showLang('cpp')">C++</button>
                    <button class="tab-btn" onclick="showLang('java')">Java</button>
                </div>
                <button onclick="copyCode('code-block')" class="btn btn-outline"
                    style="padding: 0.3rem 0.8rem; font-size: 0.8rem;">
                    <i class="fas fa-copy"></i> Copy
                </button>
            </div>
            <div class="code-container">
                <pre id="code-block" class="fira-code">
                    <!-- Code injected here -->
                </pre>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-content">
            <p>&copy; 2024 LLMaster - Premium CS Education</p>
        </div>
    </footer>

    <script src="js/linked-list.js"></script>
    <script src="js/visualizer.js"></script>
    <script>
        const list = new SinglyLinkedList();
        const viz = new Visualizer('singly-viz', 'singly');
        const status = document.getElementById('status');

        function updateStatus(msg) {
            status.innerText = msg;
        }

        async function insertHead() {
            const val = document.getElementById('nodeValue').value || Math.floor(Math.random() * 100);
            updateStatus(`Inserting ${val} at Head...`);
            list.insertAtHead(val);
            viz.render(list);
            await viz.highlightNode(0, '#10b981');
            updateStatus(`Inserted ${val} at Head.`);
        }

        async function insertTail() {
            const val = document.getElementById('nodeValue').value || Math.floor(Math.random() * 100);
            updateStatus(`Inserting ${val} at Tail...`);
            list.insertAtTail(val);
            viz.render(list);
            await viz.highlightNode(list.size - 1, '#10b981');
            updateStatus(`Inserted ${val} at Tail.`);
        }

        async function deleteHead() {
            if (list.size === 0) return;
            updateStatus(`Deleting Head node...`);
            await viz.highlightNode(0, '#ef4444');
            list.deleteFromHead();
            viz.render(list);
            updateStatus(`Head node deleted.`);
        }

        async function searchNode() {
            const val = document.getElementById('nodeValue').value;
            if (!val) return;
            updateStatus(`Searching for ${val}...`);
            const result = list.search(parseInt(val));
            await viz.traverse(result ? result.index : -1);
            if (result) {
                updateStatus(`Found ${val} at index ${result.index}!`);
            } else {
                updateStatus(`${val} not found in the list.`);
            }
        }

        // Initialize with some data
        [10, 20, 30].forEach(v => list.insertAtTail(v));
        viz.render(list);

        const codeData = {
            javascript: `class Node {
    constructor(value) {
        this.value = value;
        this.next = null;
    }
}

class SinglyLinkedList {
    constructor() {
        this.head = null;
    }

    insertAtHead(value) {
        const newNode = new Node(value);
        newNode.next = this.head;
        this.head = newNode;
    }
}`,
            python: `class Node:
    def __init__(self, value):
        self.value = value
        self.next = None

class SinglyLinkedList:
    def __init__(self):
        self.head = None

    def insert_at_head(self, value):
        new_node = Node(value)
        new_node.next = self.head
        self.head = new_node`,
            cpp: `struct Node {
    int value;
    Node* next;
    Node(int v) : value(v), next(nullptr) {}
};

class SinglyLinkedList {
public:
    Node* head;
    SinglyLinkedList() : head(nullptr) {}

    void insertAtHead(int v) {
        Node* newNode = new Node(v);
        newNode->next = head;
        head = newNode;
    }
};`,
            java: `class Node {
    int value;
    Node next;
    Node(int v) { this.value = v; }
}

class SinglyLinkedList {
    Node head;
    
    void insertAtHead(int v) {
        Node newNode = new Node(v);
        newNode.next = head;
        head = newNode;
    }
}`
        };

        function showLang(lang) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            document.getElementById('code-block').innerText = codeData[lang];
        }

        showLang('javascript');
    </script>
    <style>
        .page-content {
            padding-top: 4rem;
            padding-bottom: 6rem;
        }

        .intro-section h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .intro-section p {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 800px;
            margin-bottom: 2rem;
        }

        .complexity-table {
            display: flex;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .complexity-item {
            background: var(--surface);
            padding: 1rem 2rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            text-align: center;
        }

        .complexity-item .label {
            display: block;
            font-size: 0.8rem;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .complexity-item .value {
            font-family: 'Fira Code', monospace;
            color: var(--accent);
            font-weight: 600;
            font-size: 1.2rem;
        }

        .viz-playground {
            background: var(--surface);
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid var(--border);
            margin-bottom: 4rem;
        }

        .playground-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .playground-controls {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .status-bar {
            padding: 0.75rem;
            background: var(--surface-light);
            border-radius: 0.5rem;
            font-size: 0.9rem;
            color: var(--primary-light);
        }

        .code-snippets h2 {
            margin-bottom: 1.5rem;
        }

        .tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .tab-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }

        .tab-btn.active {
            color: var(--primary-light);
            border-bottom-color: var(--primary-light);
        }

        .code-container {
            background: #010409;
            padding: 2rem;
            border-radius: 1rem;
            border: 1px solid var(--border);
            overflow-x: auto;
        }

        .fira-code {
            font-family: 'Fira Code', monospace;
            color: #e6edf3;
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .btn.danger {
            border-color: #ef4444;
            color: #ef4444;
        }

        .btn.danger:hover {
            background: #ef4444;
            color: white;
        }
    </style>
</body>

</html>