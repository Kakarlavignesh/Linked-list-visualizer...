<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DSA VISUALIZER | Interactive DSA Hub</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Outfit:wght@600;700&display=swap"
        rel="stylesheet">
    <style>
        .suggestion-box {
            position: absolute;
            top: 105%;
            left: 0;
            right: 0;
            background: #0d1117;
            border: 1px solid var(--border);
            border-radius: 12px;
            z-index: 1000;
            max-height: 300px;
            overflow-y: auto;
            display: none;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .suggestion-item {
            padding: 12px 25px;
            cursor: pointer;
            color: var(--text-dim);
            transition: all 0.2s;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .suggestion-item:hover,
        .suggestion-item.active {
            background: var(--accent);
            color: white;
        }

        .suggestion-item:last-child {
            border-bottom: none;
        }
    </style>
</head>

<body>
    <header>
        <nav class="container">
            <div class="logo">
                <i class="fas fa-project-diagram"></i>
                <span>DSA <span>Visualizer</span></span>
            </div>
            <div class="search-bar">
                <input type="text" id="problem-search" placeholder="Search problems (e.g. Array, String)..."
                    oninput="handleSearchInput(event)" onkeydown="handleSearchKeyDown(event)" autocomplete="off">
                <i class="fas fa-search"></i>
                <div id="suggestion-box" class="suggestion-box"></div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="visualizer.html">Visualizer</a></li>
                <li><a href="#dsa-prep">Interview Prep</a></li>
                <li><button id="theme-toggle" class="btn-icon"><i class="fas fa-moon"></i></button></li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <!-- 1. Featured Tool Section (Linked List) -->
        <section class="hero-featured" id="visualizer-playground" data-title="Linked List Visualizer Playground">
            <div class="featured-card glow-blue" data-title="Linked List Visualizer Playground">
                <div class="featured-badge">FEATURED TOOL</div>
                <h2>Linked List Visualizer Playground</h2>
                <p>Animate nodes, pointers, and operations in a colorful visual playground.</p>
                <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
                    <a href="visualizer.html" class="btn btn-filled">Open Visualizer <i class="fas fa-rocket"></i></a>
                </div>
            </div>
        </section>

        <!-- 1b. Array Visualizer Section -->
        <section class="hero-featured" id="array-playground" style="margin-top: 30px;"
            data-title="Array Logic Visualizer">
            <div class="featured-card glow-green" style="background: linear-gradient(145deg, #064e3b, #022c22);"
                data-title="Array Logic Visualizer">
                <div class="featured-badge" style="background: #10b981;">DATA STRUCTURES</div>
                <h2 style="color: #10b981;">Array Logic Visualizer</h2>
                <p>Track index-based mutations and pointer movements (i, j, mid) in real-time.</p>
                <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
                    <a href="array-visualizer.html" class="btn btn-filled" style="background: #10b981;">Explore Arrays
                        <i class="fas fa-table-cells"></i></a>
                </div>
            </div>
        </section>

        <!-- 1c. String Visualizer Section -->
        <section class="hero-featured" id="string-playground" style="margin-top: 30px;"
            data-title="String Stream Visualizer">
            <div class="featured-card glow-pink" style="background: linear-gradient(145deg, #500724, #1a020a);"
                data-title="String Stream Visualizer">
                <div class="featured-badge" style="background: #ec4899;">STRING ALGORITHMS</div>
                <h2 style="color: #ec4899;">String Stream Visualizer</h2>
                <p>Visualize character sequences, palindrome checks, and anagram logic with active pointers.</p>
                <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 20px;">
                    <a href="string-visualizer.html" class="btn btn-filled" style="background: #ec4899;">Explore Strings
                        <i class="fas fa-quote-right"></i></a>
                </div>
            </div>
        </section>


        <!-- 3. DSA Interview Prep Section -->
        <section class="section-container" id="dsa-prep" style="padding-top: 80px;">
            <div class="section-header">
                <h2
                    style="font-size: 2.5rem; background: linear-gradient(90deg, #6366f1, #ec4899); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">
                    DSA Interview Prep</h2>
                <p class="subtitle">Search 50+ topics with customizable explanation depth.</p>
            </div>

            <div class="prep-search-container glow-blue"
                style="max-width: 900px; margin: 0 auto; background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 20px; padding: 40px; backdrop-filter: blur(10px);">
                <div style="display: flex; flex-direction: column; gap: 20px; margin-bottom: 30px;">
                    <div style="display: flex; gap: 15px; position: relative;">
                        <div style="flex: 1; position: relative;">
                            <input type="text" id="dsa-search-input"
                                placeholder="Search topic (e.g. Arrays, DP, Tries)..."
                                style="width: 100%; padding: 15px 25px; border-radius: 12px; border: 1px solid var(--border); background: #0d1117; color: white; font-size: 1.1rem; outline: none;"
                                onkeydown="handleDSAKey(event)" oninput="filterDSASuggestions()">
                            <div id="dsa-suggestion-box" class="suggestion-box"></div>
                        </div>
                        <button onclick="searchDSA()"
                            style="padding: 0 40px; border-radius: 12px; background: var(--accent); color: white; border: none; font-weight: 700; cursor: pointer;">EXPLORE</button>
                    </div>

                    <div
                        style="display: flex; align-items: center; justify-content: center; gap: 15px; background: rgba(0,0,0,0.2); padding: 10px; border-radius: 10px;">
                        <span style="font-size: 0.85rem; color: var(--text-dim); font-weight: 600;">EXPLANATION:</span>
                        <div
                            style="display: flex; background: #0d1117; padding: 4px; border-radius: 8px; border: 1px solid var(--border);">
                            <button id="mode-short" onclick="setDSAMode('short')"
                                style="padding: 6px 12px; border-radius: 6px; border: none; background: var(--accent); color: white; cursor: pointer; font-size: 0.75rem; font-weight: 700;">SHORT</button>
                            <button id="mode-long" onclick="setDSAMode('long')"
                                style="padding: 6px 12px; border-radius: 6px; border: none; background: transparent; color: var(--text-dim); cursor: pointer; font-size: 0.75rem; font-weight: 700;">ELABORATIVE</button>
                            <button id="mode-basic" onclick="setDSAMode('basic')"
                                style="padding: 6px 12px; border-radius: 6px; border: none; background: transparent; color: var(--text-dim); cursor: pointer; font-size: 0.75rem; font-weight: 700;">BASIC</button>
                            <button id="mode-medium" onclick="setDSAMode('medium')"
                                style="padding: 6px 12px; border-radius: 6px; border: none; background: transparent; color: var(--text-dim); cursor: pointer; font-size: 0.75rem; font-weight: 700;">MEDIUM</button>
                        </div>
                    </div>
                </div>

                <div id="dsa-results" style="display: none;">
                    <h3 id="dsa-title"
                        style="color: var(--accent); font-size: 1.8rem; margin-bottom: 15px; font-family: 'Outfit';">
                    </h3>
                    <div id="dsa-explanation"
                        style="line-height: 1.7; color: #cbd5e1; margin-bottom: 25px; font-size: 1.05rem;"></div>

                    <div
                        style="background: rgba(99,102,241,0.1); border-left: 4px solid var(--accent); padding: 25px; border-radius: 12px;">
                        <h4 style="margin-bottom: 15px; color: white; font-family: 'Inter';"><i
                                class="fas fa-question-circle"></i> Interview Practice:</h4>
                        <ul id="dsa-questions"
                            style="margin-left: 0; padding-left: 20px; color: #94a3b8; display: flex; flex-direction: column; gap: 12px;">
                        </ul>
                    </div>
                </div>

                <div id="dsa-empty" style="text-align: center; padding: 40px; color: var(--text-dim);">
                    <i class="fas fa-search" style="font-size: 3rem; margin-bottom: 15px; opacity: 0.3;"></i>
                    <p>Enter a DSA topic (like 'Trees' or 'Sorting') to begin your prep.</p>
                </div>
            </div>
        </section>

        <!-- 4. DSA Quiz Section -->
        <section class="section-container" id="dsa-quiz">
            <div class="section-header">
                <h2
                    style="font-size: 2.5rem; background: linear-gradient(90deg, #10b981, #6366f1); -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;">
                    DSA Mastery Quiz</h2>
                <p class="subtitle">Test your knowledge with 100+ randomized DSA questions.</p>
            </div>

            <div class="featured-card glow-green"
                style="max-width: 900px; margin: 0 auto; background: linear-gradient(145deg, #064e3b, #0d1117); display: flex; flex-direction: column; align-items: center; text-align: center; border: 1px solid rgba(16, 185, 129, 0.2);">
                <div class="featured-badge" style="background: #10b981;">INTERACTIVE TEST</div>
                <h3 style="color: white; font-size: 1.8rem; margin: 20px 0;">Ready to challenge yourself?</h3>
                <p style="color: #94a3b8; max-width: 600px; margin-bottom: 30px;">Select the number of questions and
                    start your journey towards DSA mastery. Track your score and improve your logic.</p>

                <div
                    style="display: flex; gap: 20px; align-items: center; margin-bottom: 30px; flex-wrap: wrap; justify-content: center;">
                    <div class="custom-dropdown" style="width: 220px;">
                        <label
                            style="display: block; font-size: 0.7rem; color: #8b949e; margin-bottom: 5px; text-align: left; font-weight: 700;">SELECT
                            TOPIC</label>
                        <select id="quiz-topic"
                            style="width: 100%; padding: 12px; border-radius: 8px; background: #0d1117; color: white; border: 1px solid var(--border); outline: none; cursor: pointer; font-weight: 600;">
                            <option value="all">All Topics (Mix)</option>
                            <option value="arrays">Arrays & Matrices</option>
                            <option value="linked-lists">Linked Lists</option>
                            <option value="stacks-queues">Stacks & Queues</option>
                            <option value="trees">Trees & Heaps</option>
                            <option value="graphs">Graphs & BFS/DFS</option>
                            <option value="algorithms">Sorting & Searching</option>
                            <option value="strings">String Algorithms</option>
                            <option value="dp">Dynamic Programming</option>
                            <option value="complexity">Complexity Analysis</option>
                        </select>
                    </div>

                    <div class="custom-dropdown" style="width: 180px;">
                        <label
                            style="display: block; font-size: 0.7rem; color: #8b949e; margin-bottom: 5px; text-align: left; font-weight: 700;">QUESTIONS</label>
                        <select id="quiz-count"
                            style="width: 100%; padding: 12px; border-radius: 8px; background: #0d1117; color: white; border: 1px solid var(--border); outline: none; cursor: pointer; font-weight: 600;">
                            <option value="10">10 Questions</option>
                            <option value="20">20 Questions</option>
                            <option value="50">50 Questions</option>
                            <option value="100">100 Questions</option>
                        </select>
                    </div>

                    <button onclick="startQuiz()" class="btn btn-filled"
                        style="background: #10b981; margin-top: 20px; padding: 12px 50px; font-weight: 800; letter-spacing: 1px;">START
                        QUIZ <i class="fas fa-graduation-cap"></i></button>
                </div>

                <div style="display: flex; gap: 20px; color: #8b949e; font-size: 0.9rem;">
                    <span><i class="fas fa-check-circle" style="color: #10b981;"></i> 100+ Questions</span>
                    <span><i class="fas fa-random" style="color: #6366f1;"></i> Randomized Set</span>
                    <span><i class="fas fa-trophy" style="color: #f59e0b;"></i> Performance Tracking</span>
                </div>
            </div>
        </section>

        <!-- 5. Linked List Story Section -->
        <section class="section-container" id="story-section">
            <div class="section-header">
                <h2>Linked List Story</h2>
            </div>
            <div class="story-grid">
                <div class="story-card" data-title="A sweet story of a thief story box game">
                    <div class="story-image">
                        <i class="fas fa-book-open"></i>
                    </div>
                    <div class="story-content">
                        <h3>A sweet story of a thief</h3>
                        <p>Learn the structure of Linked List by playing the fun <strong>Box Game</strong>.</p>
                        <a href="boxes.html" class="btn btn-secondary">Play <i class="fas fa-play"></i></a>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Engineering Animuthyam Challenge Section -->
        <section class="section-container" id="challenges">
            <div class="section-header">
                <h2>Crazy Challenges</h2>
                <p class="subtitle">Below are list of Challenges that are used in Linked List in Single shot</p>
            </div>
            <div class="challenge-grid">
                <div class="challenge-card" data-title="Middle Insertion Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-tools"></i>
                        <span>Challenge #1</span>
                    </div>
                    <h3>Middle Insertion</h3>
                    <p>Adding D,E in between B and C</p>
                    <a href="add-de-between-bc.html" class="btn btn-filled small">Start Challenge</a>
                </div>
                <div class="challenge-card" data-title="Pointer Manipulation Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-link-slash"></i>
                        <span>Challenge #2</span>
                    </div>
                    <h3>Pointer Manipulation</h3>
                    <p>Bâ€™s next should directly point to D (C next is null)</p>
                    <a href="b-next-to-d.html" class="btn btn-filled small">Start Challenge</a>
                </div>
                <!-- New Challenge #3 -->
                <div class="challenge-card" data-title="Add at Front Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-arrow-up"></i>
                        <span>Challenge #3</span>
                    </div>
                    <h3>Add at Front</h3>
                    <p>Make a new node A the head of B -> C</p>
                    <a href="add-at-front.html" class="btn btn-filled small">Start Challenge</a>
                </div>
                <!-- New Challenge #4 -->
                <div class="challenge-card" data-title="Add at End Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-arrow-down"></i>
                        <span>Challenge #4</span>
                    </div>
                    <h3>Add at End</h3>
                    <p>Add node C to the end of A -> B</p>
                    <a href="add-at-end.html" class="btn btn-filled small">Start Challenge</a>
                </div>
                <!-- Delete at Front Challenge #5 -->
                <div class="challenge-card" data-title="Delete at Front Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-minus-circle"></i>
                        <span>Challenge #5</span>
                    </div>
                    <h3>Delete at Front</h3>
                    <p>Delete node A from A -> B -> C</p>
                    <a href="delete-front.html" class="btn btn-filled small">Start Challenge</a>
                </div>
                <!-- Delete at End Challenge #6 -->
                <div class="challenge-card" data-title="Delete at End Challenge">
                    <div class="challenge-header">
                        <i class="fas fa-trash-alt"></i>
                        <span>Challenge #6</span>
                    </div>
                    <h3>Delete at End</h3>
                    <p>Delete node C from A -> B -> C</p>
                    <a href="delete-end.html" class="btn btn-filled small">Start Challenge</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-content">
            <div class="progress-info">
                <span>Challenges Track:</span>
                <div class="progress-bar-mini">
                    <div class="progress-fill" id="progress-indicator" style="width: 0%;"></div>
                </div>
                <span id="progress-text">0/6 Complete</span>
            </div>
            <p>&copy; 2024 DSA VISUALIZER - Premium CS Visuals</p>
        </div>
    </footer>

    <script src="js/dsa-data.js"></script>
    <script src="js/main.js"></script>
    <script>
        const searchableItems = [
            { title: "Linked List Visualizer", link: "visualizer.html" },
            { title: "Array Logic Visualizer", link: "array-visualizer.html" },
            { title: "String Stream Visualizer", link: "string-visualizer.html" },
            { title: "Middle Insertion Challenge", link: "add-de-between-bc.html" },
            { title: "Pointer Manipulation Challenge", link: "b-next-to-d.html" },
            { title: "Add at Front Challenge", link: "add-at-front.html" },
            { title: "Add at End Challenge", link: "add-at-end.html" },
            { title: "Delete at Front Challenge", link: "delete-front.html" },
            { title: "Delete at End Challenge", link: "delete-end.html" },
            { title: "Box Game Thief Story", link: "boxes.html" },
            { title: "Singly Linked List", link: "singly.html" },
            { title: "Doubly Linked List", link: "doubly.html" },
            { title: "Circular Linked List", link: "circular.html" },
            { title: "DSA Mastery Quiz", link: "quiz.html" }
        ];

        let selectedIndex = -1;

        function handleSearchInput(e) {
            const input = e.target.value.toLowerCase();
            const suggestBox = document.getElementById('suggestion-box');

            if (input.length < 2) {
                suggestBox.style.display = 'none';
                return;
            }

            const matches = searchableItems.filter(item =>
                item.title.toLowerCase().includes(input)
            );

            if (matches.length > 0) {
                suggestBox.innerHTML = matches.map((item, idx) => `
                    <div class="suggestion-item ${idx === selectedIndex ? 'active' : ''}" 
                         onclick="navigateTo('${item.link}')">
                        ${item.title}
                    </div>
                `).join('');
                suggestBox.style.display = 'block';
            } else {
                suggestBox.style.display = 'none';
            }
        }

        function handleSearchKeyDown(e) {
            const suggestBox = document.getElementById('suggestion-box');
            const items = suggestBox.querySelectorAll('.suggestion-item');

            if (e.key === 'ArrowDown') {
                selectedIndex = Math.min(selectedIndex + 1, items.length - 1);
                updateSelection(items);
                e.preventDefault();
            } else if (e.key === 'ArrowUp') {
                selectedIndex = Math.max(selectedIndex - 1, -1);
                updateSelection(items);
                e.preventDefault();
            } else if (e.key === 'Enter') {
                if (selectedIndex >= 0) {
                    items[selectedIndex].click();
                } else {
                    searchProblems();
                }
            }
        }

        function updateSelection(items) {
            items.forEach((item, idx) => {
                if (idx === selectedIndex) item.classList.add('active');
                else item.classList.remove('active');
            });
        }

        function navigateTo(link) {
            window.location.href = link;
        }

        function searchProblems() {
            let input = document.getElementById('problem-search').value.toLowerCase();
            let cards = document.querySelectorAll('.problem-card, .story-card, .challenge-card, .hero-featured');
            let firstMatch = null;

            cards.forEach(card => {
                let title = card.getAttribute('data-title')?.toLowerCase() || "";
                if (title.includes(input)) {
                    card.style.display = "";
                    if (!firstMatch) firstMatch = card;
                } else {
                    card.style.display = "none";
                }
            });

            if (firstMatch) {
                firstMatch.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            document.getElementById('suggestion-box').style.display = 'none';
        }

        // Close suggestions when clicking outside
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-bar')) {
                document.getElementById('suggestion-box').style.display = 'none';
            }
        });

        function startQuiz() {
            const count = document.getElementById('quiz-count').value;
            const topic = document.getElementById('quiz-topic').value;
            window.location.href = `quiz.html?count=${count}&topic=${topic}`;
        }

    </script>
</body>

</html>